{"version":3,"file":"index.cjs","sources":["../../src/postgres-js/session.ts","../../src/postgres-js/driver.ts"],"sourcesContent":[null,null],"names":["PreparedQuery","tracer","fillPlaceholders","mapResultRow","entityKind","PgSession","NoopLogger","PgTransaction","PgDialect","DefaultLogger","extractTablesRelationalConfig","createTableRelationsHelpers","PgDatabase"],"mappings":"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"}